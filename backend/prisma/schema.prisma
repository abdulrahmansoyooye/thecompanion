generator client {
  provider   = "prisma-client-js"
  engineType = "library"
}

datasource db {
  provider  = "postgresql"
}

model User {
  id            String         @id @default(cuid())
  email         String         @unique
  passwordHash  String?
  createdAt     DateTime       @default(now())
  companions    Companion[]
  history       History[]
}

model Companion {
  id            String         @id @default(cuid())
  userId        String
  name          String
  icon          String
  subject       String
  topic         String
  voiceType     String
  iconColor     String
  style         String
  duration      Int
  language      String
  createdAt     DateTime       @default(now())
  history       History[]
  user          User           @relation(fields: [userId], references: [id])
}
model History {
  id     String         @id @default(cuid())
  userId String
  companionId String
  createdAt DateTime @default(now())
  user User @relation(fields:[userId],references:[id])
  companion Companion @relation(fields:[companionId],references:[id])
}
